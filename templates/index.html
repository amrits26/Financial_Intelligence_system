{% extends "base.html" %}

{% block content %}
<h1><i class="fas fa-home text-primary me-2"></i>Dashboard</h1>

<div class="row mt-4">
    <div class="col-md-4">
        <div class="card text-center">
            <div class="card-body">
                <i class="fas fa-search fa-3x text-primary mb-3"></i>
                <h5>Stock Analysis</h5>
                <p>AI-powered multi-agent analysis</p>
                <a href="{{ url_for('analyze') }}" class="btn btn-primary">Analyze</a>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card text-center">
            <div class="card-body">
                <i class="fas fa-briefcase fa-3x text-success mb-3"></i>
                <h5>Portfolio</h5>
                <p>Manage your investments</p>
                <a href="{{ url_for('portfolio') }}" class="btn btn-success">View</a>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card text-center">
            <div class="card-body">
                <i class="fas fa-shield-alt fa-3x text-warning mb-3"></i>
                <h5>Risk Analysis</h5>
                <p>Monitor portfolio risk</p>
                <a href="{{ url_for('risk_dashboard') }}" class="btn btn-warning">Assess</a>
            </div>
        </div>
    </div>
</div>

{% if health %}
<div class="row mt-4">
    <div class="col-12">
        <h3>System Health</h3>
        <div class="card">
            <div class="card-body">
                <p><strong>Status:</strong> 
                    <span class="badge bg-success">Operational</span>
                </p>
                <p><strong>LLM:</strong> 
                    {{ 'Available' if health.llm_available else 'Unavailable' }}
                </p>
            </div>
        </div>
    </div>
</div>
{% endif %}

{% if recent %}
<div class="row mt-4">
    <div class="col-12">
        <h3>Recent Analyses</h3>
        <table class="table">
            <thead>
                <tr>
                    <th>Symbol</th>
                    <th>Type</th>
                    <th>Confidence</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
                {% for analysis in recent %}
                <tr>
                    <td>{{ analysis.symbol }}</td>
                    <td>{{ analysis.type }}</td>
                    <td>{{ "%.0f"|format(analysis.confidence * 100) }}%</td>
                    <td>{{ analysis.timestamp }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endif %}
{% endblock %}